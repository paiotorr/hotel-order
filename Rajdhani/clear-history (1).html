<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<meta name="viewport"
content="width=1200, initial-scale=1, maximum-scale=1, user-scalable=no">

<title>Paiotorr â€“ Clear Order History</title>

<style>
body{
  margin:0;
  padding:40px;
  font-family:Arial, sans-serif;
  background:#ffffff;
}

h1{
  margin-bottom:30px;
}

button{
  display:block;
  width:320px;
  margin-bottom:20px;
  padding:16px;
  font-size:18px;
  font-weight:bold;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

.clearPending{ background:#f1c40f; }
.clearAccepted{ background:#2ecc71; color:#fff; }
.clearRejected{ background:#e74c3c; color:#fff; }
.clearAll{ background:#000; color:#fff; }

.note{
  margin-top:40px;
  font-size:14px;
  color:#555;
}
</style>
</head>

<body>

<h1>ğŸ§¹ Paiotorr â€“ Clear Order History</h1>

<button class="clearPending" onclick="clearByStatus('pending')">
ğŸŸ¡ Clear Pending Orders
</button>

<button class="clearAccepted" onclick="clearByStatus('accepted')">
ğŸŸ¢ Clear Accepted Orders
</button>

<button class="clearRejected" onclick="clearByStatus('rejected')">
ğŸ”´ Clear Rejected Orders
</button>

<button class="clearAll" onclick="clearAllOrders()">
âš ï¸ CLEAR ALL ORDERS
</button>

<p class="note">
âš ï¸ Warning: This action is permanent.  
Only use this page when you really want to reset order history.
</p>

<script type="module">
import { initializeApp } from
"https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import {
  getFirestore,
  collection,
  getDocs,
  deleteDoc,
  doc
} from
"https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

/* FIREBASE */
const app = initializeApp({
  apiKey:"AIzaSyDSf51jWs3I4AXX0U8M_HxKn4VtRYg72xs",
  authDomain:"hotel-order-7f1f2.firebaseapp.com",
  projectId:"hotel-order-7f1f2"
});
const db = getFirestore(app);

/* CLEAR BY STATUS */
window.clearByStatus = async(status)=>{
  if(!confirm(`Delete ALL ${status.toUpperCase()} orders?`)) return;

  const snap = await getDocs(collection(db,"orders"));
  snap.forEach(d=>{
    if(d.data().status === status){
      deleteDoc(doc(db,"orders",d.id));
    }
  });

  alert(`âœ… ${status.toUpperCase()} orders cleared`);
};

/* CLEAR ALL */
window.clearAllOrders = async()=>{
  if(!confirm("âš ï¸ DELETE ALL ORDERS?\nThis cannot be undone.")) return;

  const snap = await getDocs(collection(db,"orders"));
  snap.forEach(d=>{
    deleteDoc(doc(db,"orders",d.id));
  });

  alert("âœ… ALL orders cleared");
};
</script>

</body>
</html>